<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>FFing</title><meta name="author" content="Ldy"><meta name="copyright" content="Ldy"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="linux技术分享">
<meta property="og:type" content="website">
<meta property="og:title" content="FFing">
<meta property="og:url" content="http://blog.ffing.fun/page/3/index.html">
<meta property="og:site_name" content="FFing">
<meta property="og:description" content="linux技术分享">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Ldy">
<meta name="twitter:card" content="summary"><link rel="shortcut icon" href="https://src.ffing.cn/hexo/img/fn_logo_32x32.png"><link rel="canonical" href="http://blog.ffing.fun/page/3/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'FFing',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-02-03 23:31:19'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/loading_gif.css"><link rel="stylesheet" href="/css/bg_color.css"><link rel="stylesheet" href="/css/full_page.css"><link rel="stylesheet" href="/css/universe.css"><link rel="stylesheet" href="/css/lightlight.css"><link rel="stylesheet" href="https://src.ffing.cn/hexo/css/nav_menu.css"><link rel="stylesheet" href="/css/foot.css"><link rel="stylesheet" href="/css/auth_icon.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_3830672_5bphzb91mjp.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/other_page.css"><link rel="stylesheet" href="/css/mouse.css"><link rel="stylesheet" href="/css/aside.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> { preloader.endLoading() })

if (false) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="/css/loading_bar.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/null" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">181</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">290</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><span> 我的</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><span> 关于我</span></a></li><li><a class="site-page child" href="/timeline/"><span> 时间线</span></a></li></ul></div></div></div></div><div class="page" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><div class="back-home-button" tabindex="-1"><i class="back-home-button-icon fas fa-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="https://www.ffing.cn" title="前往首页" target="_blank" one-link-mark="yes"><img class="back-menu-item-icon" src="https://src.ffing.cn/hexo/img/fn_white_logo.png"/><span class="back-menu-item-text">首页</span></a><a class="back-menu-item" href="http://pan.ffing.cn/" rel="external nofollow" title="前往alist网盘" target="_blank" one-link-mark="yes"><img class="back-menu-item-icon" src="https://src.ffing.cn/hexo/img/alist_logo.png"/><span class="back-menu-item-text">alist网盘</span></a><a class="back-menu-item" href="https://kms.ffing.cn/" rel="external nofollow" title="前往kms服务" target="_blank" one-link-mark="yes"><img class="back-menu-item-icon" src="https://src.ffing.cn/hexo/img/kms_logo.png"/><span class="back-menu-item-text">kms服务</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">在线工具</div><div class="back-menu-list"><a class="back-menu-item" href="https://www.iconfont.cn" rel="noopener nofollow" title="前往阿里icon" target="_blank" one-link-mark="yes"><img class="back-menu-item-icon" src="https://src.ffing.cn/hexo/img/ali-icon_logo.png"/><span class="back-menu-item-text">阿里icon</span></a></div></div></div></div><a id="site-name" href="/"><div class="title">FFing</div><i class="fa-solid fa-house"></i></a></span><div class="mask-name-container"><center id="name-container"><a id="page-name" href="javascript:btf.scrollToDest(0, 500)">PAGE_NAME</a></center></div><div id="weather"></div><div id="tp-weather-widget"></div> <div id="menus"><div class="nav-button" id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="nav-button" id="darkmode_navswitch"><a class="darkmode_switchbutton" type="button" title="浅色和深色模式转换" onclick="switchDarkMode()"><i class="fas fa-adjust"></i></a></div><div class="nav-button" id="nav-totop"><a class="totopbtn"><i class="fas fa-arrow-up"></i><span id="percent" onclick="btf.scrollToDest(0,500)">0</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><span> 我的</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><span> 关于我</span></a></li><li><a class="site-page child" href="/timeline/"><span> 时间线</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-content left"><div class="recent-post-cover"><img class="article-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="linux 获取字符长度"></div><div class="recent-post-info"><a class="article-title" href="/posts/24df268.html" title="linux 获取字符长度"><div class="article-title-link">linux 获取字符长度</div></a><div class="recent-post-meta">               <div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-10T13:48:00.000Z" title="发表于 2022-04-10 21:48:00">2022-04-10</time></span><span class="article-meta"><span class="article-meta-separator"> | </span><svg class="meta_icon post-ui-icon" style="width:12px;height:12px;position:relative;top:1px"><use xlink:href="#icon-fenlei"></use></svg><a class="article-meta__categories" href="/categories/Linux/">Linux</a></span></div></div></div><a class="article-content" href="/posts/24df268.html" title="linux 获取字符长度"><div class="article-content-text">写脚本遇到获取变量或字符长度问题，如字符串长度、截取指定长度等。
获取字符操作常用两种${}和awk
${}：字节的起始位是0
awk：字节的起始位是1
如：获取字符串长度
12345678AAA=ffing.cn###使用$&#123;&#125;[root@ffing ~]# echo $&#123;#AAA&#125;8###使用awk需配合length[root@ffing ~]# echo $AAAawk &#x27;&#123;print length&#125;&#x27;8

如：截取字符
1234567891011121314151617181920AAA=ffing.cn###使用$&#123;&#125;#截取前2个字节：0代表起始位置：2代表两个字节[root@ffing ~]# echo $&#123;AAA:0:2&#125;ff#截取第后2个字节，需要先获取总字节长度，$(())支持语法及运算[root@ffing ~]# NUM=$(($&#123;#AAA&#125;-2)) &amp;&amp;echo $NUM6#起始位是0，因此6其实是第7位字节 ...</div></a><div class="recent-post-arrow"></div></div></div><div class="recent-post-item"><div class="recent-post-content right"><div class="recent-post-cover"><img class="article-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="linux  浅谈base64加密、解密（文件转换）"></div><div class="recent-post-info"><a class="article-title" href="/posts/6c9ce06c.html" title="linux  浅谈base64加密、解密（文件转换）"><div class="article-title-link">linux  浅谈base64加密、解密（文件转换）</div></a><div class="recent-post-meta">               <div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-10T13:36:00.000Z" title="发表于 2022-04-10 21:36:00">2022-04-10</time></span><span class="article-meta"><span class="article-meta-separator"> | </span><svg class="meta_icon post-ui-icon" style="width:12px;height:12px;position:relative;top:1px"><use xlink:href="#icon-fenlei"></use></svg><a class="article-meta__categories" href="/categories/Me/">Me</a></span></div></div></div><a class="article-content" href="/posts/6c9ce06c.html" title="linux  浅谈base64加密、解密（文件转换）"><div class="article-content-text">Base64是网络上最常见的用于传输8Bit字节码的编码方式之一，Base64就是一种基于64个可打印字符来表示二进制数据的方法。
可以将任意文件转为Base64编码进行存储，且支持管道输入。
因此，常说的base64加密其实应该理解为转码，解密应该是解码（因为在你解码的时候是不进行密码验证的）。
平时发的邮件，就是将邮件内容和附件通过Base64位进行存储传输的。
base64编码表64个，而百度还有人说：还有个“&#x3D;”号，学习中。。。
索引
对应字符
索引
对应字符
索引
对应字符
索引
对应字符
0
A
16
Q
32
g
48
w
1
B
17
R
33
h
49
x
2
C
18
S
34
i
50
y
3
D
19
T
35
j
51
z
4
E
20
U
36
k
52
0
5
F
21
V
37
l
53
1
6
G
22
W
38
m
54
2
7
H
23
X
39
n
55
3
8
I
24
Y
40
o
56
4
9
J
25
Z
41
p
57
5
10
K
26
a
42
q
58
6
11
L
27
b
43
r
59
7
12
M
28
c
44 ...</div></a><div class="recent-post-arrow"></div></div></div><div class="recent-post-item"><div class="recent-post-content left"><div class="recent-post-cover"><img class="article-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="linux 日志时间区间过滤（非连续时间戳）"></div><div class="recent-post-info"><a class="article-title" href="/posts/1c2aa917.html" title="linux 日志时间区间过滤（非连续时间戳）"><div class="article-title-link">linux 日志时间区间过滤（非连续时间戳）</div></a><div class="recent-post-meta">               <div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-30T15:33:40.000Z" title="发表于 2022-03-30 23:33:40">2022-03-30</time></span><span class="article-meta"><span class="article-meta-separator"> | </span><svg class="meta_icon post-ui-icon" style="width:12px;height:12px;position:relative;top:1px"><use xlink:href="#icon-fenlei"></use></svg><a class="article-meta__categories" href="/categories/Linux/">Linux</a></span></div></div></div><a class="article-content" href="/posts/1c2aa917.html" title="linux 日志时间区间过滤（非连续时间戳）"><div class="article-content-text">sed过滤区间日志时，需要保障过滤的值必须存在，否则就会sed到日志结尾。
因此，当过滤时间区间日志是就需要去查找最近的时间戳。
我的这个脚本是针对一天的时间区间进行过滤（00:00:00-23:59:59），下面的脚本，是我从自己的脚本拆出来的，主要讲下思路，方便后期回忆。
下例：以过滤06:00至08:30之间的日志为例
范例：存在时间戳3:00:01、5:59:05、7:00:41、7:30:08、8:30:20、8:30:40
12345672022/03/01 03:00:01 [error] 1408#0: *54996 open() &quot;/usr/share/nginx/phpinfo/ftptest.cgi&quot; failed (2: No such file or directory), client: 23.95.100.141, server: , request: &quot;GET /ftptest.cgi HTTP/1.0&quot;2022/03/01 05:59:05 [alert] 1408#0: *55032 open socket # ...</div></a><div class="recent-post-arrow"></div></div></div><div class="recent-post-item"><div class="recent-post-content right"><div class="recent-post-cover"><img class="article-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="shell 日志字段过滤脚本"></div><div class="recent-post-info"><a class="article-title" href="/posts/c8cb7d41.html" title="shell 日志字段过滤脚本"><div class="article-title-link">shell 日志字段过滤脚本</div></a><div class="recent-post-meta">               <div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-21T13:19:00.000Z" title="发表于 2022-03-21 21:19:00">2022-03-21</time></span><span class="article-meta"><span class="article-meta-separator"> | </span><svg class="meta_icon post-ui-icon" style="width:12px;height:12px;position:relative;top:1px"><use xlink:href="#icon-fenlei"></use></svg><a class="article-meta__categories" href="/categories/Linux/">Linux</a></span></div></div></div><a class="article-content" href="/posts/c8cb7d41.html" title="shell 日志字段过滤脚本"><div class="article-content-text">头有点大，这段时间一直在思考日志过滤问题，问题是实际生产环境中，开发者不同，且没有统一日志输出标准，导致日志输出格式不同（文件备份名不同、日期格式不同，输出格式不同，这都不是事，让我真正懵逼的是竟然把多个日志输出到一个文件中，估计是开发自己都没注意日志叠加输出了，哎，叠加输出时间戳就没办法搞了，我就真懵逼了。。。而且tail -f时出现文件被应用mv了o(╥﹏╥)o）
贴一个前段时间写的日志过滤脚本，实现效果，时间节点为单位，呈现时间节点的日志中字段出现位置及次数，并最终统计，因为错误大同小异，为了节省时间，做了每个时间点截取输出；如果把整个字段全部导出，再过滤会有消耗一定时间，但可以做时间节点标记，有兴趣的可以跟着思路再走一个脚本（字段忽略大小写）
我的思路：
获取字段出现的行，并向上、向下获取时间节点 h:mm:ss段（为什么不是hh，因为有个别日志是上午、下午 ），并截取这个时间节点内容到临时文件。
以我测试服务器做的范例效果如下：

脚本如下（几乎都做了注释，方便理解）：
12345678910111213141516171819202122232425262728293031 ...</div></a><div class="recent-post-arrow"></div></div></div><div class="recent-post-item"><div class="recent-post-content left"><div class="recent-post-cover"><img class="article-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="linux 日志过滤常用sed、awk、grep、xargs等操作"></div><div class="recent-post-info"><a class="article-title" href="/posts/bba4e09.html" title="linux 日志过滤常用sed、awk、grep、xargs等操作"><div class="article-title-link">linux 日志过滤常用sed、awk、grep、xargs等操作</div></a><div class="recent-post-meta">               <div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-14T03:21:27.000Z" title="发表于 2022-03-14 11:21:27">2022-03-14</time></span><span class="article-meta"><span class="article-meta-separator"> | </span><svg class="meta_icon post-ui-icon" style="width:12px;height:12px;position:relative;top:1px"><use xlink:href="#icon-fenlei"></use></svg><a class="article-meta__categories" href="/categories/Linux/">Linux</a></span></div></div></div><a class="article-content" href="/posts/bba4e09.html" title="linux 日志过滤常用sed、awk、grep、xargs等操作"><div class="article-content-text">因为最近一直在写过滤日志的脚本，写一下日志中的常用的相关操作命令。
xargs命令很方便的工具，支持管道或标准输入，尝尝find配合使用，当然也可以对ls配合，通常用于批量文件操作。也可以将单行或多行文本输入转换为其他格式，例如多行变单行，单行变多行。
（xargs 默认的命令是 echo「默认空格定界符，-d 自定义定界符」，因此通过xargs 的处理，换行和空白将被空格取代，变成一行数据！！！它能够捕获一个命令的输出，然后传递给另外一个命令）
123find / *[0-9].log ls -l       #这个命令是错误的find / *[0-9].log xargs ls -lh   #查找以“数字.log”结尾的文件并现在文件详细信息ls *[1-9].xml xargs cp &#123;&#125; /tmp   #查找以“数字.xml”结尾的文件并cp到/tmp

语法：
1somecommand xargs -【参数选项】  command

参数：

-a file 从文件中读入作为 stdin
-d 自定义定界符
-e flag ，注意有的时候可能会是-E，fl ...</div></a><div class="recent-post-arrow"></div></div></div><div class="recent-post-item"><div class="recent-post-content right"><div class="recent-post-cover"><img class="article-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="linux  定时任务at和crontab命令解析"></div><div class="recent-post-info"><a class="article-title" href="/posts/177ad773.html" title="linux  定时任务at和crontab命令解析"><div class="article-title-link">linux  定时任务at和crontab命令解析</div></a><div class="recent-post-meta">               <div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-03T15:22:55.000Z" title="发表于 2022-03-03 23:22:55">2022-03-03</time></span><span class="article-meta"><span class="article-meta-separator"> | </span><svg class="meta_icon post-ui-icon" style="width:12px;height:12px;position:relative;top:1px"><use xlink:href="#icon-fenlei"></use></svg><a class="article-meta__categories" href="/categories/Linux/">Linux</a></span></div></div></div><a class="article-content" href="/posts/177ad773.html" title="linux  定时任务at和crontab命令解析"><div class="article-content-text">at命令，一次性任务（和win中的at命令有些差距）
crontab命令，循环任务
这两个命令都是分钟级别，如果需要定位到秒可以使用sleep进行秒级定位。
crontab命令crontab,默认存储文件：&#x2F;var&#x2F;spool&#x2F;cron&#x2F;用户名
(注:默认只有root用户可以查看定时任务，其他用户没有权限,即使你是文件所有者也不行，因为在上层目录cron目录中other组没有x权限，解决方法就是给cron目录other添加x权限)



crontab的几种用法：
第1种：直接使用crontab，以ctrl+d结束（注：此方法会覆盖历史任务，根据环境使用）

第2种：crontab -e,是最常用的方法，其实就编辑&#x2F;var&#x2F;spool&#x2F;cron&#x2F;【你的用户名】文件，后保存。
第3种：使用EOF参数，常用用于脚本。
如下：
`crontab -l`,利用shell命令获取历史任务（shell命令通用的哦！管道符、grep、sed、awk等命令）

at命令at,默认存储文件：&#x2F;var&#x2F;sp ...</div></a><div class="recent-post-arrow"></div></div></div><div class="recent-post-item"><div class="recent-post-content left"><div class="recent-post-cover"><img class="article-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="记录一下redhat官网下载地址"></div><div class="recent-post-info"><a class="article-title" href="/posts/61f6ceeb.html" title="记录一下redhat官网下载地址"><div class="article-title-link">记录一下redhat官网下载地址</div></a><div class="recent-post-meta">               <div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-02T14:50:55.000Z" title="发表于 2022-03-02 22:50:55">2022-03-02</time></span><span class="article-meta"><span class="article-meta-separator"> | </span><svg class="meta_icon post-ui-icon" style="width:12px;height:12px;position:relative;top:1px"><use xlink:href="#icon-fenlei"></use></svg><a class="article-meta__categories" href="/categories/Linux/">Linux</a></span></div></div></div><a class="article-content" href="/posts/61f6ceeb.html" title="记录一下redhat官网下载地址"><div class="article-content-text">因测试需要redhat老版本，而网络地址满天飞。
附官网下载地址：
https://access.redhat.com/downloads/content/69/ver=/rhel---7/7.5/x86_64&#x2F;product-software
可根据自己需求自行选择版本！

如果不知道自己需要的镜像名，笨方法，选择DVD，然后就是文件体积最大的，就是完整镜像！

当然，也可以存网盘，不过即便官网停止维护了，一般也会保留镜像，让你过渡维护期的，除非这个镜像真的过了NN久。。。（没用户量你何来维护？）
</div></a><div class="recent-post-arrow"></div></div></div><div class="recent-post-item"><div class="recent-post-content right"><div class="recent-post-cover"><img class="article-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="mac 快速切换hosts工具SwitchHosts"></div><div class="recent-post-info"><a class="article-title" href="/posts/157b7f5f.html" title="mac 快速切换hosts工具SwitchHosts"><div class="article-title-link">mac 快速切换hosts工具SwitchHosts</div></a><div class="recent-post-meta">               <div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-02-28T13:22:02.000Z" title="发表于 2022-02-28 21:22:02">2022-02-28</time></span><span class="article-meta"><span class="article-meta-separator"> | </span><svg class="meta_icon post-ui-icon" style="width:12px;height:12px;position:relative;top:1px"><use xlink:href="#icon-fenlei"></use></svg><a class="article-meta__categories" href="/categories/%E9%BB%91%E8%8B%B9%E6%9E%9C/">黑苹果</a></span></div></div></div><a class="article-content" href="/posts/157b7f5f.html" title="mac 快速切换hosts工具SwitchHosts"><div class="article-content-text">因为需要经常访问GitHub，而国内呵呵呵。。。
偶尔虚拟机测试时，也需要自定义域名解析，
原来写过一个win下的bat，本来想再mac下也写shell，发现每次都要下权限密码，又想着要来个自动输入密码验证，麻烦。。。
懒人，推荐个一直在用的mac工具SwitchHosts，从最初正着写的H，到现在想斜着的H，logo都变了，UI优化了，作者也一直在维护，推荐一下。
项目地址：https://github.com/oldj/SwitchHosts

</div></a><div class="recent-post-arrow"></div></div></div><div class="recent-post-item"><div class="recent-post-content left"><div class="recent-post-cover"><img class="article-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="shell 快速切换服务器"></div><div class="recent-post-info"><a class="article-title" href="/posts/f517818d.html" title="shell 快速切换服务器"><div class="article-title-link">shell 快速切换服务器</div></a><div class="recent-post-meta">               <div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-02-22T15:23:47.000Z" title="发表于 2022-02-22 23:23:47">2022-02-22</time></span><span class="article-meta"><span class="article-meta-separator"> | </span><svg class="meta_icon post-ui-icon" style="width:12px;height:12px;position:relative;top:1px"><use xlink:href="#icon-fenlei"></use></svg><a class="article-meta__categories" href="/categories/Linux/">Linux</a></span></div></div></div><a class="article-content" href="/posts/f517818d.html" title="shell 快速切换服务器"><div class="article-content-text">因为维护工作，经常需要切换服务器，这里写个切换服务器脚本。
输入判断，可自行完成，我这里只是简版。
范例一，适合服务器较多时，使用行号进行快速连接
思路：通过行号定位行内容
1234567891011121314151617181920#!/bin/bash#hostecho &quot;USERIPADDtest11192.168.1.111test12192.168.1.112test21192.168.1.121test22192.168.1.122test31192.168.1.123test32192.168.1.124test33192.168.1.125&quot; grep -Ev &quot;^#^$^ &quot;&gt;/tmp/hostcat -n /tmp/hostread -p &quot;请输入编号：&quot; NUMUSER=`sed -n &quot;$NUM&quot;p /tmp/hostawk &#x27;&#123;print $1&#125;&#x27;`IPADD=`sed -n &quot;$NUM&quot;p /tmp/hostaw ...</div></a><div class="recent-post-arrow"></div></div></div><div class="recent-post-item"><div class="recent-post-content right"><div class="recent-post-cover"><img class="article-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Mac 安装python3"></div><div class="recent-post-info"><a class="article-title" href="/posts/76a39ab8.html" title="Mac 安装python3"><div class="article-title-link">Mac 安装python3</div></a><div class="recent-post-meta">               <div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-02-18T12:46:55.000Z" title="发表于 2022-02-18 20:46:55">2022-02-18</time></span><span class="article-meta"><span class="article-meta-separator"> | </span><svg class="meta_icon post-ui-icon" style="width:12px;height:12px;position:relative;top:1px"><use xlink:href="#icon-fenlei"></use></svg><a class="article-meta__categories" href="/categories/%E9%BB%91%E8%8B%B9%E6%9E%9C/">黑苹果</a></span></div></div></div><a class="article-content" href="/posts/76a39ab8.html" title="Mac 安装python3"><div class="article-content-text">最近在看python，记录一下mac安装python中遇到的问题
mac默认安装的python2.7、或2.6，现在在学习3，所以需要更新版本。
安装python可以通过官网下载安装，也可以通过mac的安装器brew进行安装。
一，通过brew安装1.安装brew安装失败
官网：https://brew.sh/

但我安装提示连接拒绝，后百度找到解决办法，切换获取镜像源
中科大Homebrew镜像源：  https://lug.ustc.edu.cn/wiki/mirrors/help/brew.git
1/usr/bin/ruby -e &quot;$(curl -fsSL https://cdn.jsdelivr.net/gh/ineo6/homebrew-install/install)&quot;

2.安装brew中断,提示不能安装该软件！

需要去苹果的开发者网站，下载插件Command Line Tools，https://developer.apple.com/download/more/
我的macOS是10.15.2，安装CCommand_Line_Tools_fo ...</div></a><div class="recent-post-arrow"></div></div></div><div class="recent-post-item"><div class="recent-post-content left"><div class="recent-post-cover"><img class="article-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="shell 获取某自然月的天数或两个日期间隔的天数"></div><div class="recent-post-info"><a class="article-title" href="/posts/c68765d0.html" title="shell 获取某自然月的天数或两个日期间隔的天数"><div class="article-title-link">shell 获取某自然月的天数或两个日期间隔的天数</div></a><div class="recent-post-meta">               <div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-02-10T14:50:40.000Z" title="发表于 2022-02-10 22:50:40">2022-02-10</time></span><span class="article-meta"><span class="article-meta-separator"> | </span><svg class="meta_icon post-ui-icon" style="width:12px;height:12px;position:relative;top:1px"><use xlink:href="#icon-fenlei"></use></svg><a class="article-meta__categories" href="/categories/Linux/">Linux</a></span></div></div></div><a class="article-content" href="/posts/c68765d0.html" title="shell 获取某自然月的天数或两个日期间隔的天数"><div class="article-content-text">获取自然月的天数思路：
通过输入的年月，来先增加一个月再减去一天，就得到输入月份的月底的日期，即天数！
脚本如下：（+1month -1day）
12345#使用date命令，获取出自然月的天数&quot;echo &quot;年月格式：2022年2月，则输入202202&quot;read -p &quot;请输入年月份：&quot; VARDAY=` date  -d &quot;+1month -1day $&#123;VAR&#125;01&quot; +%d`echo &quot;$&#123;VAR:0:4&#125;年$&#123;VAR:5:6&#125;月 中有$DAY天&quot;

完善脚本：增加输入的日期格式判断
12345678910#使用date命令，获取出自然月的天数&quot;echo &quot;年月格式：2022年2月，则输入202202&quot;read -p &quot;请输入年月份：&quot; VARdate -d $&#123;VAR&#125;01 &gt;&gt;/dev/null 2&gt;&amp;1if [ $? -eq 0 ] ...</div></a><div class="recent-post-arrow"></div></div></div><div class="recent-post-item"><div class="recent-post-content right"><div class="recent-post-cover"><img class="article-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="linux 文件合并"></div><div class="recent-post-info"><a class="article-title" href="/posts/f2549954.html" title="linux 文件合并"><div class="article-title-link">linux 文件合并</div></a><div class="recent-post-meta">               <div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-02-04T14:52:57.000Z" title="发表于 2022-02-04 22:52:57">2022-02-04</time></span><span class="article-meta"><span class="article-meta-separator"> | </span><svg class="meta_icon post-ui-icon" style="width:12px;height:12px;position:relative;top:1px"><use xlink:href="#icon-fenlei"></use></svg><a class="article-meta__categories" href="/categories/Linux/">Linux</a></span></div></div></div><a class="article-content" href="/posts/f2549954.html" title="linux 文件合并"><div class="article-content-text">多文件合并常用cat 和 paste两个命令。
cat合并，属于文件内容依次追加，用的较多。
paste合并，属于纵列合并。
注：paste在合并列数不同的文件时，会将行左推进，所以最后合并文件时，注意文件行数要相同。
直接图例：

</div></a><div class="recent-post-arrow"></div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/2/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/#content-inner">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/#content-inner">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/#content-inner">16</a><a class="extend next" rel="next" href="/page/4/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="author-info__description"><img style="float:left;width:100px;height:100px " src="https://src.ffing.cn/hexo/img/fn_logo.png"><p style="font-size:13px">兴趣是最好的老师<br>时间是最贵的学费</p></div></div><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://gitee.com/ffing" target="_blank" title="Gitee"><svg class="social_icon iconfont" aria-hidden="true"><use xlink:href="#icon-gitee"></use></svg></a><a class="social-icon faa-parent animated-hover" href="mailto:79131627@qq.com" target="_blank" title="Email"><svg class="social_icon iconfont" aria-hidden="true"><use xlink:href="#icon-youxiang"></use></svg></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/376172153" target="_blank" title="BiliBili"><svg class="social_icon iconfont" aria-hidden="true"><use xlink:href="#icon-bilibili-line1"></use></svg></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Debian/"><span class="card-category-list-name">Debian</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Linux/"><span class="card-category-list-name">Linux</span><span class="card-category-list-count">134</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Me/"><span class="card-category-list-name">Me</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/SQL/"><span class="card-category-list-name">SQL</span><span class="card-category-list-count">7</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Windows/"><span class="card-category-list-name">Windows</span><span class="card-category-list-count">11</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/other/"><span class="card-category-list-name">other</span><span class="card-category-list-count">16</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%95%99%E7%A8%8B/"><span class="card-category-list-name">教程</span><span class="card-category-list-count">40</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E9%BB%91%E8%8B%B9%E6%9E%9C/"><span class="card-category-list-name">黑苹果</span><span class="card-category-list-count">10</span></a></li>
            </ul></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">二月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/12/"><span class="card-archive-list-date">十二月 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/11/"><span class="card-archive-list-date">十一月 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/10/"><span class="card-archive-list-date">十月 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/09/"><span class="card-archive-list-date">九月 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/08/"><span class="card-archive-list-date">八月 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">4</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/07/"><span class="card-archive-list-date">七月 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/05/"><span class="card-archive-list-date">五月 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li></ul></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Ldy</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div><div id="footer-banner"><div class="footer-banner-links"><div class="footer-banner-left"><div class="footer-banner-left"><div id="footer-banner-tips"></div><script src="https://src.ffing.cn/hexo/js/typed.min.foot_daziji.js"></script><script>var typed = new Typed("#footer-banner-tips", {
  strings: ["你不在正经事上忧虑,就会在乱七八糟事上忧虑,能力守恒!", "折腾硬件、软件;折腾系统、平台;折腾开发、环境;折腾window、linux;折腾,折腾,瞎J8折腾."],
  startDelay: 200,
  backDelay: 2000,
  typeSpeed: 100,
  loop: true,
  backSpeed: 20
})
</script></div></div><div class="footer-banner-right"><p><a target="_blank" href="https://hexo.io/"><img src="http://src.ffing.cn/hexo/img/Frame-Hexo-blue.svg" title="框架"></a>&nbsp;<a target="_blank" href="https://butterfly.js.org/"><img src="http://src.ffing.cn/hexo/img/Theme-Butterfly.svg" title="主题"></a>&nbsp;<a target="_blank" href="https://www.upyun.com/"><img src="http://src.ffing.cn/hexo/img/CDN又拍云.svg" title="CDN加速"></a>&nbsp;<a target="_blank" href="https://www.51.la/"><img src="http://src.ffing.cn/hexo/img/Analytics-51la.svg" title="51la统计"></a>&nbsp;<a target="_blank" href="https://www.upyun.com/"><img src="http://src.ffing.cn/hexo/img/豫ICP备2021016009.svg" title="ICP备案"></a></p></div></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script src="https://src.ffing.cn/hexo/js/jquery.min.3.6.3.js"></script><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script defer src="https://src.ffing.cn/hexo/js/switchDarkMode.js"></script><script defer src="https://src.ffing.cn/hexo/js/nav_menu.js"></script><script src="https://src.ffing.cn/hexo/js/foot_runtime.js"></script><script async src="//at.alicdn.com/t/c/font_3830672_5bphzb91mjp.js"></script></div></body></html>